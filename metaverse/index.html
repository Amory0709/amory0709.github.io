<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SLB æ‹›è˜å…ƒå®‡å®™ä½“éªŒ | 3Däº’åŠ¨æ‹›è˜åœºæ™¯</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="ä½“éªŒSLBå…¬å¸çš„3Dæ‹›è˜å…ƒå®‡å®™åœºæ™¯ï¼Œé€šè¿‡äº’åŠ¨æ¸¸æˆäº†è§£ä¼ä¸šæ–‡åŒ–ï¼Œæ”¶é›†å…¬å¸ä¿¡æ¯ï¼Œæ²‰æµ¸å¼æ±‚èŒä½“éªŒã€‚">
    <meta name="keywords" content="å…ƒå®‡å®™,3D,æ‹›è˜,SLB,WebGL,Three.js,äº’åŠ¨æ¸¸æˆ,ä¼ä¸šæ–‡åŒ–,æ±‚èŒä½“éªŒ">
    <meta name="author" content="SLB Recruitment Team">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="SLB æ‹›è˜å…ƒå®‡å®™ä½“éªŒ">
    <meta property="og:description" content="ä½“éªŒ3Dæ‹›è˜å…ƒå®‡å®™åœºæ™¯ï¼Œé€šè¿‡äº’åŠ¨æ¸¸æˆäº†è§£ä¼ä¸šæ–‡åŒ–">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://amory0709.github.io/metaverse/">
    <meta property="og:image" content="https://amory0709.github.io/metaverse/preview.png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="SLB æ‹›è˜å…ƒå®‡å®™ä½“éªŒ">
    <meta name="twitter:description" content="ä½“éªŒ3Dæ‹›è˜å…ƒå®‡å®™åœºæ™¯ï¼Œé€šè¿‡äº’åŠ¨æ¸¸æˆäº†è§£ä¼ä¸šæ–‡åŒ–">
    <meta name="twitter:image" content="https://amory0709.github.io/metaverse/preview.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸŒ</text></svg>">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/three.js/r158/three.min.js" as="script">
    <link rel="preload" href="css/styles.css" as="style">
    
    <!-- CSS -->
    <link rel="stylesheet" href="css/styles.css">
    
    <!-- Google Analytics (å¯é€‰) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        // gtag('config', 'GA_MEASUREMENT_ID'); // å–æ¶ˆæ³¨é‡Šå¹¶æ›¿æ¢ä¸ºå®é™…ID
    </script>
</head>
<body>
    <!-- åŠ è½½ç•Œé¢ -->
    <div id="loading-screen">
        <div class="loading-container">
            <div class="loading-spinner"></div>
            <div class="loading-text">æ­£åœ¨åŠ è½½å…ƒå®‡å®™åœºæ™¯...</div>
            <div class="loading-progress">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
        </div>
    </div>

    <!-- ä¸»ç•Œé¢ -->
    <div id="game-container">
        <canvas id="three-canvas"></canvas>
        
        <!-- UI ç•Œé¢ -->
        <div id="ui-overlay">
            <!-- æ¬¢è¿ä¿¡æ¯ -->
            <div id="welcome-panel" class="panel">
                <h2>æ¬¢è¿æ¥åˆ° SLB æ‹›è˜å…ƒå®‡å®™ï¼</h2>
                <p>ä½¿ç”¨ WASD é”®ç§»åŠ¨ï¼Œé¼ æ ‡æ§åˆ¶è§†è§’</p>
                <p>ç‚¹å‡»è“è‰²æ–¹å—æ”¶é›†ä¿¡æ¯ï¼Œæ‰¾åˆ°éšè—çš„å½©è›‹ï¼</p>
                <button id="start-btn">å¼€å§‹æ¢ç´¢</button>
                
                <!-- æ·»åŠ è¿”å›é“¾æ¥ -->
                <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid rgba(255,255,255,0.2);">
                    <a href="https://amory0709.github.io/" style="color: #4facfe; text-decoration: none; font-size: 14px;">
                        â† è¿”å›ä¸»é¡µ
                    </a>
                </div>
            </div>

            <!-- æ¸¸æˆä¿¡æ¯ -->
            <div id="game-info" class="info-panel">
                <div class="info-item">
                    <span class="info-label">æ”¶é›†è¿›åº¦:</span>
                    <span id="collection-progress">0/5</span>
                </div>
                <div class="info-item">
                    <span class="info-label">å¾—åˆ†:</span>
                    <span id="score">0</span>
                </div>
                <div class="info-item">
                    <span class="info-label">æ—¶é—´:</span>
                    <span id="timer">00:00</span>
                </div>
            </div>

            <!-- äº¤äº’æç¤º -->
            <div id="interaction-hint" class="hint-panel">
                <p>æŒ‰ E é”®äº¤äº’</p>
            </div>

            <!-- ä¿¡æ¯å¼¹çª— -->
            <div id="info-modal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h3 id="modal-title">å…¬å¸ä¿¡æ¯</h3>
                    <div id="modal-body">
                        <p>è¿™é‡Œæ˜¯å…¬å¸çš„è¯¦ç»†ä¿¡æ¯...</p>
                    </div>
                </div>
            </div>

            <!-- æ¸¸æˆå®Œæˆé¢æ¿ -->
            <div id="completion-panel" class="panel">
                <h2>ğŸ‰ æ­å–œå®Œæˆæ¢ç´¢ï¼</h2>
                <p>æ‚¨å·²ç»æ”¶é›†äº†æ‰€æœ‰çš„å…¬å¸ä¿¡æ¯</p>
                <div id="final-score">æœ€ç»ˆå¾—åˆ†: <span id="final-score-value">0</span></div>
                <button id="restart-btn">é‡æ–°å¼€å§‹</button>
                <button id="apply-btn">ç«‹å³ç”³è¯·èŒä½</button>
            </div>
        </div>
    </div>

    <!-- æ§åˆ¶è¯´æ˜ -->
    <div id="controls-help">
        <div class="controls-toggle" id="controls-toggle">?</div>
        <div class="controls-content" id="controls-content">
            <h4>æ§åˆ¶è¯´æ˜</h4>
            <ul>
                <li><strong>WASD</strong> - ç§»åŠ¨è§’è‰²</li>
                <li><strong>é¼ æ ‡</strong> - æ§åˆ¶è§†è§’</li>
                <li><strong>E</strong> - äº¤äº’</li>
                <li><strong>ç©ºæ ¼</strong> - è·³è·ƒ</li>
                <li><strong>Shift</strong> - è·‘æ­¥</li>
            </ul>
        </div>
    </div>

    <!-- åº•éƒ¨ä¿¡æ¯ -->
    <div style="position: fixed; bottom: 10px; left: 50%; transform: translateX(-50%); 
                color: rgba(255,255,255,0.6); font-size: 12px; z-index: 100; 
                pointer-events: none;">
        Powered by Three.js | 
        <a href="debug.html" style="color: #4facfe; pointer-events: all; text-decoration: none;">è°ƒè¯•å·¥å…·</a>
    </div>

    <!-- JavaScriptåŠ è½½ -->
    <script>
        // åŠ¨æ€åŠ è½½Three.jsï¼Œç¡®ä¿åŠ è½½å®Œæˆåå†åŠ è½½å…¶ä»–è„šæœ¬
        function loadScript(src) {
            return new Promise((resolve, reject) => {
                const script = document.createElement('script');
                script.src = src;
                script.onload = resolve;
                script.onerror = reject;
                document.head.appendChild(script);
            });
        }

        // åŠ è½½æ‰€æœ‰è„šæœ¬
        async function loadAllScripts() {
            try {
                // é¦–å…ˆå°è¯•åŠ è½½Three.js CDN
                try {
                    await loadScript('https://cdnjs.cloudflare.com/ajax/libs/three.js/r158/three.min.js');
                    console.log('Three.js CDNåŠ è½½æˆåŠŸ');
                } catch (cdnError) {
                    console.warn('CDNåŠ è½½å¤±è´¥ï¼Œå°è¯•å¤‡ç”¨CDN:', cdnError);
                    // å°è¯•å¤‡ç”¨CDN
                    await loadScript('https://unpkg.com/three@0.158.0/build/three.min.js');
                    console.log('Three.js å¤‡ç”¨CDNåŠ è½½æˆåŠŸ');
                }
                
                // ç„¶ååŠ è½½å…¶ä»–è„šæœ¬
                await loadScript('js/main.js');
                await loadScript('js/game.js');
                console.log('æ‰€æœ‰è„šæœ¬åŠ è½½å®Œæˆ');
                
            } catch (error) {
                console.error('è„šæœ¬åŠ è½½å¤±è´¥:', error);
                // æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ç»™ç”¨æˆ·
                document.body.innerHTML = `
                    <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); 
                                background: #ff4444; color: white; padding: 20px; border-radius: 10px; 
                                text-align: center; z-index: 9999;">
                        <h2>âš ï¸ åŠ è½½å¤±è´¥</h2>
                        <p>æ— æ³•åŠ è½½å¿…è¦çš„è„šæœ¬æ–‡ä»¶ã€‚</p>
                        <p>è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼Œæˆ–ç¨åå†è¯•ã€‚</p>
                        <button onclick="location.reload()" style="background: #4facfe; color: white; 
                                border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; 
                                margin-top: 10px;">é‡æ–°åŠ è½½</button>
                        <br><br>
                        <a href="https://amory0709.github.io/" style="color: white; text-decoration: underline;">
                            è¿”å›ä¸»é¡µ
                        </a>
                    </div>
                `;
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆåå¼€å§‹åŠ è½½è„šæœ¬
        document.addEventListener('DOMContentLoaded', loadAllScripts);

        // ç»Ÿè®¡è®¿é—®ï¼ˆå¯é€‰ï¼‰
        if (typeof gtag !== 'undefined') {
            gtag('event', 'page_view', {
                page_title: 'SLB æ‹›è˜å…ƒå®‡å®™ä½“éªŒ',
                page_location: window.location.href
            });
        }
    </script>
</body>
</html> 